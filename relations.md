
Связи
=====



Один к одному или Многие к одному
---------------------------------

Обявить массив `$objects` связанных объектов.
Каждый элемент - это key-value пара, у которой
- `key` - имя свойства, через которое обращаться к связанному объекту
- `value` - массив со следующими определениями:
  - Класс связанного обекта
  - просто null :) (тут будет храниться сам объект после его загрузки)
  - Имя поля (внешнего ключа) в БД, по которому устанавливается связь ()

### один к одному

Например, у пользователя есть профиль - отдельная таблица в которую вынесены
все редко использующиеся данные и дополнительные сведения.
Одной записи из таблицы пользователей соответствует одна из таблицы профилей.
У этих записей одинаковые `id` и, кроме того, что они(id) являются первичными ключами,
они(id) ещё являются вторичными ключами и ссылаются друг на друга. Ммм... тогда их удалить
будет сложновато... :) Ну пусть FK будет проставлен только в таблице профилей,
но мы в голове держим, что в таблице пользователей поле `id` тоже можно рассматривать как
FK на таблицу профилей.


	class CUser extends CObject
	{
		// ...
		
		protected $objects = array(
			'profile' => array('CProfile', null, 'id')
		);
	}

	class CProfile extends CObject
	{
		// ...
		
		protected $objects = array(
			'user' => array('CUser', null, 'id')
		);
	}
	

### многие к одному

Например, у поста есть поле `user_id`, которое ссылается на пользователя,
написавшего пост:

	class CPost extends CObject
	{
		// ...
		
		protected $objects = array(
			'user' => array('CUser', null, 'user_id')
		);
	}




Один ко многим
--------------


Многие ко многим
----------------

