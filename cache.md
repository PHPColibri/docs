Кеширование
===========

- [Настройка](#Настройка)
- [Функционал](#Функционал)

> Для работы с кешем поддерживается всем известный [Memcached](http://memcached.org/).


Настройка
---------

Всё уже готово к работе, если у вас установлен memcached c дефолтными настройками.
Если же ваш memcache мониторит другой порт или установлен на другой машине,
откройте файл настроек `cache.php` и вы быстро поймёте что нужно поправить.

После установки и настройки кеша для того, чтобы Colibri мог его использовать,
установите `useCache` в `application.php` в `true`.


Функционал
----------

#### Запись в кеш
```php
Cache::set('key', 'value', $seconds = null);
```
`$seconds === null`  - использовать настройку `cache.default-ttl`;  
`$seconds === 0`     - никогда не 'протухнет';  
`$seconds > 2592000` - Unix timestamp (2592000 - 30 дней).  

#### Получение значения
```php
Cache::get('key', $default);
```

#### Удалить
```php
Cache::delete('key');
```

#### Взять если есть или положить
Если вам требуется кешировать что-то на небольшое (или не очень) время,
то очень часто используются следующие манипуляции:  
\- посмотреть есть ли значение в кеше уже;  
\- если есть, то использовать его;  
\- если его нет, то:  
\- \- произвести "вычисления" значения;  
\- \- сохранить его в кеше;  
\- \- и после этого использовать.  
вместо этого вы можете просто использовать метод `::remember()`
```php
Cache::remember($key, function() {
	return $mySomeNewValue;
}, $seconds = null);
```
